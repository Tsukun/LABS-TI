#include "pch.h" 
#include <stdio.h> 
#include <String> 
#include <locale.h> 

int prover(char ch[])
{
	int k, max, min, zn(0);
	char s1[255], s2[255];
	k = strlen(ch);
	max = pow(2, sizeof(int) * 8 - 1) - 1;
	min = -1 * pow(2, sizeof(int) * 8 - 1);
	sprintf(s1, "%d", max);
	sprintf(s2, "%d", min);
	if (ch[0] == '-') return 0;
	for (int i = zn; i < strlen(ch); i++) if (ch[i]<'1' || ch[i]>'9') return 0;
	if (strlen(ch)  < strlen(s1)) return 1;
	if (strlen(ch)  > strlen(s1)) return 0;
	
}

int Vvod_and_Proverka() // ввод и проверка числа 
{
	char ch[255];
	while (1)
	{
		scanf("%s", ch);
		if (prover(ch) == 1) break;
		printf("Некорректный ввод\nВведите число ещё раз:");
	}
	return atoi(ch);
}
int longYear(int year)
{
	if (((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0))
		return 1;
	return 0;
}

enum MonthName { January = 1, February, March, April, May, June, July, August, September, October, November, December };

int visYear(int year, int month)
{
	int day;
	switch (month)
	{
	case February:
		do
		{
			printf_s("Введите любой день от 1 до %d числа: ", 28 + longYear(year));
			day = Vvod_and_Proverka();
			if ((day <= 28 + longYear(year)) && (day > 0))
				break;
			else
				printf_s("Некорректный ввод\n");
		} while ((day > 28 + longYear(year)) || (day <= 0));
		break;
	case April:case June:case September:case November:
		do
		{
			printf_s("Введите любой день от 1 до 30 числа: ");
			day = Vvod_and_Proverka();
			if ((day <= 30) && (day > 0))
				break;
			else
				printf_s("Некорректный ввод\n");
		} while ((day > 30) || (day <= 0));
		break;
	case January:case May:case August:case October:case December:case March:case July:
		do
		{
			printf_s("Введите любой день от 1 до 31 числа: ");
			 day = Vvod_and_Proverka();
			if ((day <= 31) && (day > 0))
				break;
			else
				printf_s("Некорректный ввод\n");

		} while ((day > 31) || (day <= 0));
		break;
	default:
		return 0;
		break;
	}

	return day;
}

int date(int day1, int day2, MonthName monthname1, MonthName monthname2, int year1, int year2) {
	if (year1 < year2)
		return 1;
	else
	{
		if (year1 == year2)
		{
			if (monthname1 < monthname2)
				return 1;
			else
			{
				if (monthname1 == monthname2)
				{
					if (day1 < day2)
						return 1;
					else
						return 0;
				}
				else
					return 0;
			}
		}
		else
			return 0;
	}
	return 0;
}

int main()
{
	setlocale(LC_ALL, "Rus");

	int month1, month2, year1, year2, day1, day2;

		printf_s("Введите год 1: ");
		year1=Vvod_and_Proverka();
		printf_s("Введите месяц 1: ");
		month1 = Vvod_and_Proverka();
		day1 = visYear(year1, month1);
		printf_s("Введите год 2: ");
		year2 = Vvod_and_Proverka();
		printf_s("Введите месяц 2: ");
		month2 = Vvod_and_Proverka();
		day2 = visYear(year2, month2);

	printf_s("%d \n", date(day1, day2, MonthName(month1), MonthName(month2), year1, year2));

	return 0;
}
